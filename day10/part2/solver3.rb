a=$<.map{|c|()while c.sub! /<>|\[]|\(\)|\{}|
/,'';c.tr(t='x([{<','')<?!?(f=->i{c[i]?t.index(c[i])+5*f[i+1]:0})[0]:0}-[0];p a.sort[a.size/2]