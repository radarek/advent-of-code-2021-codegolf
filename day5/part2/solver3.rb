C=0..999;l=$<.map{_1[?>]='0,';eval'['+_1+?]};p C.sum{|x|C.count{|y|l.count{(e=_1-x)*(_3-x)<1&&(f=_2-y)*(_4-y)<1&&(_3-_1)*f==(_4-_2)*e}>1}}