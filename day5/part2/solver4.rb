l=$<.map{_1[?>]='0,';eval'['+_1+?]};p (0..1e6).count{|n|l.count{(e=_1-n/t=999)*(_3-n/t)<1&&(f=_2-n%t)*(_4-n%t)<1&&(_3-_1)*f==(_4-_2)*e}>1}